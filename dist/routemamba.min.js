!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("routemamba",[],t):"object"==typeof exports?exports.routemamba=t():e.routemamba=t()}(self,(()=>(()=>{"use strict";var e={2:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.__render_DOM_head=t.__render_DOM=t.__render_DOM_root=t.loadScript=void 0;const r=e=>{var t;if(1==(e=>"SCRIPT"==e.tagName)(e))null===(t=e.parentNode)||void 0===t||t.replaceChild((e=>{let t=document.createElement("script");t.text=e.innerHTML;let r,o=-1,n=e.attributes;for(;++o<n.length;)t.setAttribute((r=n[o]).name,r.value);return t})(e),e);else for(var o=-1,n=e.childNodes;++o<n.length;)r(n[o]);return e};t.loadScript=e=>{let t;t=document.querySelectorAll(e),null!=t&&null!=t&&t.forEach((e=>{r(e)}))},t.__render_DOM_root=e=>{const r=document.querySelector("body");if(null==r)throw new Error("Can't render DOM Root!!. DOM Root body tag not found.");if(null==r)throw new Error("Can't render DOM Root!!. DOM Root body tag not found.");return r.innerHTML=e,(0,t.loadScript)("body"),!0},t.__render_DOM=(e,r)=>{const o=document.querySelector(e);if(null==o)throw new Error(`Can't render DOM!!. ${e} Element not found.`);if(null==o)throw new Error(`Can't render DOM!!. ${e} Element not found.`);return o.innerHTML=r,(0,t.loadScript)(e),!0},t.__render_DOM_head=e=>{let t=document.querySelector("head");if(null==t)throw new Error("Can't render DOM Root!!. DOM Root Head tag not found.");if(null==t)throw new Error("Can't render DOM Root!!. DOM Root Head tag not found.");return t.innerHTML=e,!0}},641:(e,t)=>{var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.PersistStorage=t.RoutesStorage=void 0,(o=t.RoutesStorage||(t.RoutesStorage={})).RoutesPages=[],o.RoutesHeaders=[],o.RoutesFooters=[],o.server_host="",o.meta_content_url="",(r=t.PersistStorage||(t.PersistStorage={})).NetworkConfig={localhost:"http://localhost",localIp:"http://127.0.0.1",localFilePath:"file://",tauriHost:"tauri://localhost",http_www:"http://www.",https_www:"https://www."},r.DomContent={ErrorHeadContent:'<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ERROR</title>',DefineMetaUrlError:"Define Meta Content Url",__404_urlErrorContent:'\n        <style>\n        body{\n            margin: 0;\n            padding: 0;\n            background-color: rgb(245, 245, 245);\n         }\n         .error_body{\n            width: 100% !important;\n            height: 100% !important;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            margin-top: 20px;\n         }\n         \n         .error_card{\n            display: block;\n            width: 400px;\n            background-color: rgb(255, 255, 255);\n            border-radius: 5px;\n            padding: 15px;\n            box-shadow: 1px 0px 12px rgb(177, 177, 177);\n         }\n         \n         .error_header{\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            border-bottom: 1px solid grey;\n         }\n         \n         h1{\n            color: rgb(248, 82, 82);\n         }\n         \n         p{\n            color: grey;\n         }\n         \n         .red-box{\n            background-color: rgba(255, 182, 182, 0.699);\n            color: rgb(255, 88, 88);\n            padding: 3px;\n            border-radius: 3px;\n            font-weight: 700;\n         }\n         \n         .red-box-l{\n            background-color: rgb(255, 174, 174);\n            color: rgb(247, 72, 72);\n            padding: 3px;\n            border-radius: 3px;\n            font-weight: 700;\n         }\n         \n         .r{\n            color: #65DBCA;\n         }\n         .p{\n            color: #C792EA\n         }\n         \n         .b{\n            color: #82AAE5\n         }\n         \n         .w{\n            color: #c9D1DF;\n         }\n         \n         .red{\n            color: red;\n         }\n         \n         .bg-code{\n            background-color: #011627;\n            color: rgb(1, 153, 22);\n            display: block;\n            padding: 5px;\n            border-radius: 5px;\n            font-weight: 700;\n            width: 100%;\n         }\n        </style>\n        <div class="error_body"><div class="error_card"><div class="error_header"><h1>404 HTTP URL</h1></div><div class="error_desc"><p><p class="red-box">Routemamba rendering error !!</p>Did you forget to declare <span class="red-box">http_url</span> on: </p><code class="bg-code"><span class="r">routemamba</span><span class="c">.</span><span class="b">route</span><span class="w">({</span><br><br>&nbsp&nbsp <span class="w">http_url:</span> <b class="red-box-l">undefined</b> &nbsp <b class="red"><<-- error !(undefined)</b><br><br><span class="w">});</span></code><p>Set <span class="red-box">http_url</span> to solve this problem</p><hr><p>Developed by: Rezwan Ahmod Sami</p></div></div></div>',__404_ServerHostErrorContent:'<style>\n         body{\n             margin: 0;\n             padding: 0;\n             background-color: rgb(245, 245, 245);\n          }\n          .error_body{\n             width: 100% !important;\n             height: 100% !important;\n             display: flex;\n             justify-content: center;\n             align-items: center;\n             margin-top: 20px;\n          }\n          \n          .error_card{\n             display: block;\n             width: 400px;\n             background-color: rgb(255, 255, 255);\n             border-radius: 5px;\n             padding: 15px;\n             box-shadow: 1px 0px 12px rgb(177, 177, 177);\n          }\n          \n          .error_header{\n             display: flex;\n             justify-content: center;\n             align-items: center;\n             border-bottom: 1px solid grey;\n          }\n          \n          h1{\n             color: rgb(248, 82, 82);\n          }\n          \n          p{\n             color: grey;\n          }\n          \n          .red-box{\n             background-color: rgba(255, 182, 182, 0.699);\n             color: rgb(255, 88, 88);\n             padding: 3px;\n             border-radius: 3px;\n             font-weight: 700;\n          }\n          \n          .red-box-l{\n             background-color: rgb(255, 174, 174);\n             color: rgb(247, 72, 72);\n             padding: 3px;\n             border-radius: 3px;\n             font-weight: 700;\n          }\n          \n          .r{\n             color: #65DBCA;\n          }\n          .p{\n             color: #C792EA\n          }\n          \n          .b{\n             color: #82AAE5\n          }\n          \n          .w{\n             color: #c9D1DF;\n          }\n          \n          .red{\n             color: red;\n          }\n          \n          .bg-code{\n             background-color: #011627;\n             color: rgb(1, 153, 22);\n             display: block;\n             padding: 5px;\n             border-radius: 5px;\n             font-weight: 700;\n             width: 100%;\n          }\n         </style><div class="error_body"><div class="error_card"><div class="error_header"><h1>404 SERVER HOST</h1></div><div class="error_desc"><p><p class="red-box">Routemamba rendering error !!</p>Did you forget to declare <span class="red-box">server_host</span> on: </p><code class="bg-code"><span class="r">routemamba</span><span class="c">.</span><span class="b">server_host</span><span class="w">&nbsp=</span>&nbsp<b class="red-box-l">undefined</b> &nbsp <b class="red"><<-- error!!!</b><br><br></span></code><p>Set <span class="red-box">server_host</span> to solve this problem</p><hr><p>Developed by: Rezwan Ahmod Sami</p></div></div></div>'}},389:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,n)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return n(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MetaLoader=void 0;const l=r(641),i=s(r(2)),d=a(r(618)),u=r(589);t.MetaLoader=e=>{if(null==l.RoutesStorage.meta_content_url||""==l.RoutesStorage.meta_content_url)throw i.__render_DOM_root(l.PersistStorage.DomContent.DefineMetaUrlError),new Error(l.PersistStorage.DomContent.DefineMetaUrlError);{let t=window.location.href.split("/"),r=t[t.length-1].split("?"),o={};if(null==e||""==e)r.length>1&&(o=d.default.parseQueryString(r[1])),o=r[0];else{let t=e.split("/"),r=t[t.length-1].split("?");r.length>1&&(o=d.default.parseQueryString(r[1])),o.route=r[0]}const n={method:"GET",content_url:l.RoutesStorage.meta_content_url,container:"head meta",preloader:"",error_content:"",data:o,http_url_change:!1,server_host:l.RoutesStorage.server_host,http_url:""};(0,u.RouteEngineInit)(n)}}},839:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerMetaUrl=t.registerServerHost=t.register_routes_footers=t.register_routes_headers=t.register_http_routes=void 0;const o=r(641);t.register_http_routes=e=>{o.RoutesStorage.RoutesPages=e},t.register_routes_headers=e=>{o.RoutesStorage.RoutesHeaders=e},t.register_routes_footers=e=>{o.RoutesStorage.RoutesFooters=e},t.registerServerHost=e=>{o.RoutesStorage.server_host=e},t.registerMetaUrl=e=>{o.RoutesStorage.meta_content_url=e}},618:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(r(119)),s=o(r(870)),a=o(r(636)),l=o(r(116)),i=o(r(9)),d={isValidUrl:n.default,isEmptyObject:s.default,parseQueryString:a.default,parseObjectToQueryString:l.default,isValidServerHost:i.default};t.default=d},589:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,n)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return n(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.route=t.RouteEngineInit=void 0;const l=r(641),i=a(r(618)),d=s(r(2)),u=s(r(389));t.RouteEngineInit=e=>{let t=window.location.href;if(""!=e.server_host)if(i.default.isValidServerHost(e.server_host))if(-1!==e.server_host.indexOf(l.PersistStorage.NetworkConfig.https_www)||-1!==e.server_host.indexOf(l.PersistStorage.NetworkConfig.http_www)){let r=t.split("/"),o="";for(let e=0;e<3;e++)o+=1==e?"//":r[e];o+="/",e.http_url==e.server_host&&(e.http_url=o),e.server_host=o}else if(-1!==e.server_host.indexOf(l.PersistStorage.NetworkConfig.localIp)||-1!==e.server_host.indexOf(l.PersistStorage.NetworkConfig.localhost))-1!==t.indexOf(l.PersistStorage.NetworkConfig.localIp)?-1!==e.server_host.indexOf(l.PersistStorage.NetworkConfig.localhost)&&(e.server_host=e.server_host.replace(l.PersistStorage.NetworkConfig.localhost,l.PersistStorage.NetworkConfig.localIp)):-1!==t.indexOf(l.PersistStorage.NetworkConfig.localhost)&&-1!==e.server_host.indexOf(l.PersistStorage.NetworkConfig.localIp)&&(e.server_host=e.server_host.replace(l.PersistStorage.NetworkConfig.localIp,l.PersistStorage.NetworkConfig.localhost));else{let r=e.server_host.split("/"),o="";for(let n=0;n<r.length;n++)0==n&&"https:"==r[n]||"http:"==r[n]?o=r[n]+"/":(1!=n||-1===t.indexOf(l.PersistStorage.NetworkConfig.http_www)&&-1===e.server_host.indexOf(l.PersistStorage.NetworkConfig.http_www)||(o+="www."),""!=r[n]?o+=r[n]:o+="/");e.http_url==e.server_host&&(e.http_url=o),e.server_host=o}else alert("The server host is invalid");if(0!=e.http_url_change&&null!=e.http_url&&window.history.pushState(e.server_host,"",e.http_url),""!=e.container&&""!=e.content_url){const t=new XMLHttpRequest;t.onprogress=function(){null!=e.preloader&&""!=e.preloader&&d.__render_DOM(e.container,e.preloader)},t.onload=function(t){d.__render_DOM(e.container,this.response)},t.onerror=function(t){throw d.__render_DOM(e.container,e.error_content),new Error(this.response)};let r="";if("POST"==e.method)r=i.default.parseObjectToQueryString(e.data);else if("GET"==e.method&&l.RoutesStorage.meta_content_url==e.content_url){if(!i.default.isEmptyObject(e.data))if(e.content_url.includes("?")){let t=e.content_url.split("?");""!=t[t.length-1]&&null!=t[t.length-1]&&(e.content_url+="&")}else e.content_url+="?";e.content_url+=i.default.parseObjectToQueryString(e.data)}t.open(e.method,e.content_url),"POST"==e.method&&t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(r)}},t.route=e=>{let r=[];if(null!=e.http_url?r=e.http_url.split("?"):(d.__render_DOM_head(l.PersistStorage.DomContent.ErrorHeadContent),d.__render_DOM_root(l.PersistStorage.DomContent.__404_urlErrorContent)),null!=r[1])e.data=i.default.parseQueryString(r[1]),e.content_url=e.content_url+"?"+i.default.parseObjectToQueryString(e.data);else if(null!=e.data&&null!=e.data&&!i.default.isEmptyObject(e.data)){let t=i.default.parseObjectToQueryString(e.data);e.content_url=e.content_url+"?"+t,e.http_url=e.http_url+"?"+t}e.meta_loader&&u.MetaLoader(e.http_url);const o={method:e.method,content_url:e.content_url,container:e.container,preloader:e.preloader,error_content:e.preloader,data:e.data,http_url_change:e.http_url_change,server_host:l.RoutesStorage.server_host,http_url:e.http_url};null==e.http_url_change||e.http_url_change?1==e.http_url_change&&(null!=l.RoutesStorage.server_host&&""!=l.RoutesStorage.server_host?(0,t.RouteEngineInit)(o):(d.__render_DOM_head(l.PersistStorage.DomContent.ErrorHeadContent),d.__render_DOM_root(l.PersistStorage.DomContent.__404_ServerHostErrorContent))):(0,t.RouteEngineInit)(o)}},870:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>0==Object.keys(e).length},9:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=r(641);t.default=e=>-1!==e.indexOf(o.PersistStorage.NetworkConfig.localIp)||-1!==e.indexOf(o.PersistStorage.NetworkConfig.localhost)||-1!==e.indexOf(o.PersistStorage.NetworkConfig.localFilePath)||-1!==e.indexOf(o.PersistStorage.NetworkConfig.tauriHost)},119:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},116:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{let t="";if(null!=e){let r=Object.keys(e),o=Object.values(e);for(let e=0;e<r.length;e++)t+=r[e]+"="+o[e],r.length-1!=e&&(t+="&")}return t}},636:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{let t=e.split("&"),r={};for(let e=0;e<t.length;e++){let o=t[e].split("="),n=decodeURIComponent(o[0]),s=decodeURIComponent(o[1]);if(void 0===r[n])r[n]=decodeURIComponent(s);else if("string"==typeof r[n]){let e=[r[n],decodeURIComponent(s)];r[n]=e}else r[n].push(decodeURIComponent(s))}return r}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,r),s.exports}var o={};return(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.registerServerHost=e.registerMetaUrl=e.route=void 0;const t=r(589);Object.defineProperty(e,"route",{enumerable:!0,get:function(){return t.route}});const n=r(839);Object.defineProperty(e,"registerMetaUrl",{enumerable:!0,get:function(){return n.registerMetaUrl}}),Object.defineProperty(e,"registerServerHost",{enumerable:!0,get:function(){return n.registerServerHost}})})(),o})()));